<!-- TRY ON BUTTON -->
<style>
    .vto-section {
  background: linear-gradient(135deg, #f9fafb, #f3f4f6);
  border: 1px solid #e5e7eb;
  border-radius: 16px;
  padding: 1.5rem 1rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  max-width: 480px;
  margin: 1.5rem auto;
  transition: all 0.3s ease-in-out;
}

.vto-section:hover {
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.btn-vto {
  background: linear-gradient(90deg, #4f46e5, #3b82f6);
  border: none;
  border-radius: 50px;
  color: white;
  font-size: 1.1rem;
  font-weight: 600;
  padding: 0.75rem 2rem;
  transition: background 0.3s ease, transform 0.2s ease;
}

.btn-vto:hover {
  background: linear-gradient(90deg, #4338ca, #2563eb);
  transform: scale(1.03);
}

.btn-vto i {
  margin-right: 8px;
}

.vto-description {
  color: #374151;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-top: 0.75rem;
}

</style>

<div class="vto-section text-center my-4">
  <button class="btn btn-vto" id="tryOnBtn">
    <i class="fa fa-camera"></i> Try On
  </button>
  <div class="vto-description mt-2">
    Try this frame virtually on your face. Our AI will also tell you if this frame fits your face correctly.
  </div>
</div>


<!-- VTO MODAL -->
<div class="modal fade" id="vtoModal" tabindex="-1" aria-labelledby="vtoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered" style="max-width:95%;">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="vtoModalLabel">Virtual Try-On</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-0">
        <iframe id="vtoIframe" src="" style="width:100%; height:80vh; border:none;"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- Bootstrap 5 JS bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const tryBtn = document.getElementById('tryOnBtn');
    const modalIframe = document.getElementById('vtoIframe');

    tryBtn.addEventListener('click', function(){
        // Set iframe source to your VTO HTML
        modalIframe.src = '/vto.html?ic={{ doc.item_code }}';
        // Show Bootstrap modal
        var vtoModal = new bootstrap.Modal(document.getElementById('vtoModal'));
        vtoModal.show();
    });

    // Optional: clear iframe on close to stop camera
    const vtoModalEl = document.getElementById('vtoModal');
    vtoModalEl.addEventListener('hidden.bs.modal', function () {
        modalIframe.src = '';
    });
});
</script>
